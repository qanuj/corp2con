<h3 class="page-title">
    {{title}}
</h3>
<div class="page-bar">
    <ul class="page-breadcrumb">
        <li>
            <i class="fa fa-home"></i>
            <a href="#/">Home</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li>
            <a href="#">Search</a>
            <i class="fa fa-angle-right"></i>
        </li>
        <li><a href="#">{{start}}-{{end}} of {{count}}</a></li>
    </ul>
    <div class="page-toolbar">
        <div class="btn btn-group">
            <button class="btn btn-primary" href="#addFolderDialog" data-dismiss="modal" data-toggle="modal" data-original-title="" title="">Add To Folder</button>
            <button class="btn btn-warning" href="#inviteDialog" data-toggle="modal" data-original-title="" title="">Invite</button>
        </div>
    </div>
</div>
<div class="modal fade" id="inviteDialog" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                <h4 class="modal-title">Invite for Job</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-xs-12">
                        <div class="col-xs-12">
                            <div ng-if="jobs.length==0" class="text-danger">
                                No active published jobs yet.
                            </div>
                        </div>
                        <div class="form-group">
                            <div ng-if="jobs.length>0">
                                <select ui-select2 class="form-control" ng-model="job" ng-options="s.label for s in jobs track by s.id"></select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" ng-click="invite(job)" data-dismiss="modal" class="btn blue">Invite</button>
                <button type="button" class="btn default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="addFolderDialog" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                <h4 class="modal-title">Save Contractor to Folder</h4>
            </div>
            <div class="modal-body">
                <input type="text" class="form-control input-xs" ng-model="folder" placeholder="Folder Name" />
            </div>
            <div class="modal-footer">
                <button type="button" ng-click="move(folder)" class="btn blue">Save changes</button>
                <button type="button" class="btn default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-sm-3">
        <div class="row">
            <div class="col-xs-12">
                <div class="form-group">
                    <div class="input-group">
                        <input type="text" class="form-control input-xs" ng-model="query.keywords" />
                        <span class="input-group-btn">
                            <button ng-click="search(query)" class="btn btn-primary btn-icon-only"><i class="icon-magnifier"></i></button>
                        </span>
                    </div>
                </div>
            </div>
        </div>
        <div class="row" ng-if="count>0">
            <div class="col-xs-10">
                <h3>Filter</h3>
            </div>
            <div class="col-xs-2">
                <h3>
                    <a class="btn btn-danger btn-xs" ui-sref="search"><i class="fa fa-trash"></i></a>
                </h3>
            </div>
        </div>
        <div ng-repeat="(key, filter) in filters" ng-include="'app/views/common/filter.html'"></div>
        <div class="row">
            <div class="col-xs-12 inbox">
                <h2>Folders</h2>
                <ul class="inbox-nav margin-bottom-10">
                    <li class="inbox" ng-class="{active:f.label==query.folder}"
                        ng-repeat="f in folders"><a class="btn" ui-sref="search({folder:f.label})">{{f.label}} ({{f.count}})</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-sm-9">
        <div ng-if="count<1">
            <div class="alert alert-warning">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <strong>Ooops! You got us..</strong>
                <p>
                    We could not find anything.
                </p>
                <p>
                    <a class="btn btn-warning" ui-sref="search"><i class="fa fa-search"></i> Reset Filters and Try Again</a>
                </p>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12" ng-show="count>0">
                <div class="row">
                    <div class="col-xs-2">
                        <input type="checkbox" bs-switch class="make-switch" switch-size="mini" ng-click="toggle(selectAll)" ng-model="selectAll" data-on="success" data-off="warning">
                    </div>
                    <div class="col-xs-10 text-right">
                        <cc-pager total-pages="pages" current-page="currentPage"
                                  page-action="navigate(pageNumber)">
                        </cc-pager>
                    </div>
                </div>
            </div>
            <div class="col-xs-12" ng-repeat="row in records" ng-include="'app/views/company/contractor.item.html'"></div>
            <div class="col-xs-12">
                <cc-pager total-pages="pages" current-page="currentPage"
                          page-action="navigate(pageNumber)">
                </cc-pager>
            </div>
        </div>
    </div>
</div>
